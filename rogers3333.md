---
timezone: Asia/Shanghai
---


---

# realgu

1. 目前在学习web3d的相关知识，准备all in
2. 争取今年找到一份web3相关开发

## Notes

<!-- Content_START -->

### 2025.02.06

## Notes

<!-- Content_START -->


1. 了解以太坊协议设计理念，以及路线图
2. 世界计算机由以太坊虚拟机、以太坊区块链、以太坊网络组成
3. 一个块由3个关键组件组成：创建区块时执行的交易记录、一个签名，每个特定块都是唯一的、对上一个块签名的引用
4. 单个节点运行两个软件：一个共识客户端和一个执行客户端（负责运行EVM）。虽然每个节点的副本都是独立的，但每个EVM都是同步的；任何本地副本的状态都是全局共享的EVM的状态。所有这些独立和不受信任的计算机保持其EVM的本地副本同步的方法被称为共识系统，共识系统分为POW和POS，POW为工作量证明，是BTC采用的方法，它的缺点为：唯一方法是运行许多强大的机器（并花费大量电力），以太坊已经从POW过度为POS
5. 以太坊建立了成熟的生态系统：De-FI
6. 更好的节点硬件=更好的以太坊性能。

<!-- Content_END -->


### 2025.02.07

<!-- Content_START -->
# 以太坊协议拆分：执行层与共识层的新架构

随着以太坊的发展，早期的黄皮书所定义的协议已成为过去式。如今，以太坊协议被拆分为执行层规范和共识层规范这两个关键部分。

在拆分之前，以太坊客户端身兼数职，既要负责交易的执行与传播，又要承担网络共识的达成任务。而拆分之后，共识层独立出来，原本的客户端则转变为纯粹的执行层。以下为你详细介绍拆分后执行层和共识层各自承载的功能：

## 执行层功能
- **交易池**：作为交易的暂存区域，等待被打包进区块。
- **状态存储**：负责存储以太坊网络的当前状态信息，为交易执行提供基础数据。
- **区块和交易的执行（STF）**：执行具体的交易操作，并按照规则生成新的区块。
- **EVM（以太坊虚拟机）**：作为智能合约的运行环境，支持以太坊上各种复杂的合约逻辑。

## 共识层功能
- **共识模块（Gasper = Casper - FFG + LMD - GHOST）**：运用先进的共识算法，确保网络节点就区块链的状态达成一致。
- **最新区块同步**：保证网络中各个节点的区块链数据保持一致，及时获取最新的区块信息。
- **Blob 数据存储**：存储特定类型的数据，以满足以太坊网络不断增长的功能需求。
- **Validator 交互**：与验证者进行交互，协调验证者的工作，保障网络的安全性和稳定性。

关于执行层和共识层，还有一些要点值得关注：
- **P2P 网络**：执行层和共识层各自拥有独立的 P2P 网络。执行层的 P2P 网络主要用于交易的传播和接收，让交易能够快速在网络中扩散；而共识层的 P2P 网络则侧重于最新区块和 blob 数据的同步，确保节点间数据的一致性。
- **连接关系**：一个执行层客户端只能与一个共识层客户端相连，而共识层客户端则可以同时连接多个执行层客户端以及多个 Validator，这种架构设计增强了网络的灵活性和可扩展性。

此外，Beam Chain 项目已正式立项，其目标是对共识层进行重构，并大量应用 ZK（零知识证明）技术。之所以不在当前的共识层基础上进行设计，是为了避免技术负债的影响，能够以全新的视角和架构面向未来。这也体现了模块化设计的优势，只要执行层和共识层之间的 API 保持稳定，就可以在模块内部进行重新设计和开发。而且，对于共识层而言，大部分数据只需短期存储，过期数据无需长期保留，这大大减轻了数据兼容性处理的负担。

经过多年的发展，以太坊客户端的多样性得到了显著提升。曾经 Geth 几乎是唯一的选择，如今越来越多新的客户端涌现出来。其中一个明显的趋势是，使用 Rust 开发的客户端数量不断增加。这并不难理解，由于客户端运行在单机上，需要处理的数据和请求日益增多，而 Rust 语言凭借其高性能、内存安全等特性，能够充分发挥机器的性能，未来 Rust 开发客户端或许会成为主流趋势。 

<!-- Content_END -->
